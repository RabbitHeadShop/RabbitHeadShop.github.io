<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Item Selector</title>
    <style>
        body {
            background-color: black;
            color: red;
            text-align: center;
        }
        #inputContainer {
            margin-bottom: 20px;
        }
        #itemsList {
            margin-bottom: 20px;
        }
        #selectedItem {
            margin-top: 20px;
            font-weight: bold;
        }
        button {
            background-color: red;
            color: black;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="inputContainer">
        <input type="text" id="itemInput" placeholder="Enter item(s)">
        <button onclick="addItem()">Add Item</button>
    </div>
    <div id="itemsList"></div>
    <button onclick="completeSelection()">Complete</button>
    <div id="selectedItem"></div>
    <button id="redoButton" style="display:none;" onclick="redoSelection()">Redo</button>

    <script>
        let items = [];
        let selectedItems = [];
        let usedItems = [];

        function addItem() {
            const itemInput = document.getElementById('itemInput');
            const inputText = itemInput.value.trim();
            const newItems = inputText.split(', ').filter(item => item);
            items.push(...newItems);
            itemInput.value = '';
            displayItems();
        }

        function displayItems() {
            const itemsList = document.getElementById('itemsList');
            itemsList.innerHTML = items.join(', ');
        }

        function completeSelection() {
            if (items.length === 0) {
                if (usedItems.length === 0) {
                    alert('No more items to select.');
                    return;
                }
                items = [...usedItems];
                usedItems = [];
            }
            const randomIndex = Math.floor(Math.random() * items.length);
            const selectedItem = items.splice(randomIndex, 1)[0];
            usedItems.push(selectedItem);
            selectedItems.push(selectedItem);
            displaySelectedItem(selectedItem);
        }

        function displaySelectedItem(item) {
            const selectedItemDiv = document.getElementById('selectedItem');
            selectedItemDiv.innerHTML = `Selected Item: ${item}`;
            document.getElementById('redoButton').style.display = 'inline';
        }

        function redoSelection() {
            completeSelection();
        }
    </script>

</body>
</html>