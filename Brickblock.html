<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Tag Manager -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TXZX351KJ2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-TXZX351KJ2');
</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brickblock</title>
    <style>
        body, html {
            background-color: #000;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #00FF00;
            font-family: Arial, sans-serif;
        }
        canvas {
          background-color: black;
            display: none;
        }
        .Homescreen {
          background-color: black;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center; /* Center vertically */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            margin-bottom: 20px;
          justify-content: center
        }
        .Homescreen button {
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
          overflow: hidden;
            width: 200px;
          height: 60px;
          background-image: url(https://cdn.vectorstock.com/i/preview-1x/53/77/pixel-art-seamless-pattern-brick-texture-vector-30705377.jpg);
            background-color: purple;
            border: groove;
            border-color: gray;
            border-width: 5px;
            color: #00FF00;
            padding: 15px 32px;
            font-family: Arial, sans-serif;
            text-align: center;
            text-decoration: none;
            font-size: 24px;
            margin: 10px 0;
            cursor: pointer;
        }
        .start-button, .game-over-buttons button {
            background-color: purple;
        }
        .game-over-buttons {
            display: none;
          align-items: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        .game-over-buttons p {
            font-size: 50px;
            margin-bottom: 10px;
          
        }
        .game-over-buttons .score {
            font-size: 50px;
        }
        .game-over-buttons button {
         display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
          overflow: hidden;
            width: 200px;
          height: 60px;
            background-color: purple;
          background-image: url(https://cdn.vectorstock.com/i/preview-1x/53/77/pixel-art-seamless-pattern-brick-texture-vector-30705377.jpg);
            border: groove;
            border-color: gray;
            border-width: 5px;
            color: #00FF00;
            padding: 15px 32px;
            font-family: Arial, sans-serif;
            text-align: center;
            text-decoration: none;
            font-size: 24px;
            margin: 10px 0;
            cursor: pointer;
        }
        .difficulty-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
.gameover{
  background-color: none;
}
#RandomNumbers {
  background-color: #000;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}
.CodaClass {
  color: #420;
}
.HiddenMessageClass {
  height: 100vh;
  width: 100vw;
  background-image: linear-gradient(45deg, #000, white, #000);
  font-family: fantasy, Arial;
  color: red;
  text-align: center;
  text-animation: wiggle 0.5s infinite;
  font-size: 24px;
  display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
}
    </style>
<!-- Measurement ID -->
    <script>
        gtag('config', 'G-TXZX351KJ2', { 'send_page_view': true });
    </script>
    <!-- End Measurement ID -->
</head>
<body>
  <div id="RandomNumbers"></div>
  <div id="HiddenMessage" class="HiddenMessageClass">
    <p style="font-size: 50px">Hey there, Butt Nugget! ðŸ˜‹</p>
    <p style=" font-size: 30px; Word-Wrap: break-line">Glad you made it. It may have annoyed you a bit, but I hope you're having a good day! I just wanted to tell you that, despite our differences and our past troubles with each other, I do still care more about you than you'll ever truly understand. Thank you for being there even when you didn't necessarily want to be. You and the things you've done for me mean so much more than you'll ever realize. I hope this at least made you smile, because your smile is really pretty and you deserve to do it more often.</p>
  </div>
    <div id="HomeScreen"class="Homescreen" style="width: 100vw; height: 100vh;">
        <div class="difficulty-buttons">
            <button onclick="setDifficulty('very_easy')">Very Easy</button>
            <button onclick="setDifficulty('easy')">Easy</button>
            <button onclick="setDifficulty('medium')">Medium</button>
            <button onclick="setDifficulty('hard')">Hard</button>
          <div>
            <button class="fullscreen-button" onclick="toggleFullscreen(); playFullscreen()">Fullscreen</button>
            </div>
          <div id="CodaButtonDIV" class="CodaClass">
            <button id="CodaButton" style="display: none" onclick="showHiddenMessage();">.CoDa.</button>
          </div>
        </div>
        <button class="start-button" id="startButton" style="display: none;" onclick="startGame()">Start Game</button>
    <canvas id="gameCanvas"></canvas>
    <div id="gameOverScreen" class="game-over-buttons">
        <p id="gameOverText" style="color: red; font-size: 60px">Game Over!</p>
        <button onclick="restartGame()">Restart</button>
        <button onclick="backToHome(); playHomeAudio();">Home</button>
  <div class="gameover">
    <p class="score" id="scoreText" style="color: red"></p>
        <p class="high-score" id="highScoreText" style="font-size: 20px; color: red"></p>
    </div>
    </div>
<!-- Audio element for playing the sound -->
  <audio id="VeryEasySound">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/778c781e630b02b82c0cdd70e4c1e695386aadcf/easy-101soundboards.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
    <audio id="EasySound">
        <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/778c781e630b02b82c0cdd70e4c1e695386aadcf/easy-101soundboards%20(1).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
  <audio id="GameMusic">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/778c781e630b02b82c0cdd70e4c1e695386aadcf/retro-game-beat-8bit-140-bpm-video-game-game-beat-at-benderhover-101soundboards_1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="Fullscreen">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/6aacc9cdc2ad035624c9075da27fc3c3ffff5c4b/full-screen-right-there-how-cool-is-that-a-21-by-9-ratio-right-here-101soundboards_1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<script>
    var audio = document.getElementById('GameMusic');
    audio.volume = 0.5; // Set the volume programmatically to 20%
</script>

      <script></script>
  <audio id="MediumSound">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/778c781e630b02b82c0cdd70e4c1e695386aadcf/medium-101soundboards.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
  <audio id="HardSound">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/778c781e630b02b82c0cdd70e4c1e695386aadcf/hard-101soundboards.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
  <audio id="GameOver">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/f465afed312cbf471e65dea3ea59cd29c415625b/GameOver.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
  <audio id="JumpStart">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/e8615a12b007d7c58491fc1bd308207d1db1a48d/jump-101soundboards.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<audio id="Home">
    <source src="https://github.com/RabbitHeadShop/RabbitHeadShop.github.io/raw/987be2d83e33a86b2f4069fe11da7470bc80a754/homefuturama-101soundboards_1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>
<script>
    var audio = document.getElementById('JumpStart');
    audio.volume = 0.1; // Set the volume programmatically to 50%
</script>
    <script>
function showHiddenMessage() {
    // Set HiddenMessage display to block
    document.getElementById('HiddenMessage').style.display = 'block';

    // Show RandomNumbers div
    createRandomNumbers();

    // Hide all other elements
    const elements = document.body.children;
    for (let i = 0; i < elements.length; i++) {
        if (elements[i].id !== 'HiddenMessage' && elements[i].id !== 'RandomNumbers') {
            elements[i].style.display = 'none';
        }
    }
}
        const canvas = document.getElementById('gameCanvas');
        const context = canvas.getContext('2d');
// Function to check CodaClass color and set CodaButton display
function checkCodaClassColor() {
    const codaElement = document.querySelector('.CodaClass');
    const codaButton = document.getElementById('CodaButton');
    const color = window.getComputedStyle(codaElement).color;

    if (color === 'rgb(17, 34, 51)') { // RGB equivalent of #
        codaButton.style.display = 'block';
    }
}

// Call the function on load
checkCodaClassColor();

        let square = { x: 0, y: 0, size: 50 };
        let obstacles = [];
        const obstacleHeight = 60;
        let touchX = null; // Only X-axis touch input, null initially
        let obstacleSpeed = 4;
        let gameOver = false;
        let gameStarted = false;
        let obstacleDistance; // Distance between obstacles in pixels
        let score = 0; // Initialize score variable
        let highScores = {
            very_easy: 0,
            easy: 0,
            medium: 0,
            hard: 0
        };
  
  function playAudio() {
            var audio = document.getElementById('Jumpstart');
            if (audio) {
                audio.play();
            } else {
                console.log('Audio element not found');
            }
        }

        // Load high scores from localStorage if available
        if (localStorage.getItem('highScores')) {
            highScores = JSON.parse(localStorage.getItem('highScores'));
        }

        // Image for square
        const squareImage = new Image();
        squareImage.src = 'https://raw.githubusercontent.com/RabbitHeadShop/RabbitHeadShop.github.io/main/Parachute.png';

        // Image for obstacle
        const obstacleImage = new Image();
obstacleImage.src = 'https://cdn.vectorstock.com/i/preview-1x/53/77/pixel-art-seamless-pattern-brick-texture-vector-30705377.jpg';
obstacleImage.width = 50;
obstacleImage.height = 50;

function playHomeAudio() {
    var audio = document.getElementById('Home');
    if (audio) {
        audio.currentTime = 0; // Reset audio to the beginning
        audio.play(); // Play the audio
    } else {
        console.log('Audio element not found');
    }
}

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
// Function to handle key down events
function handleKeyDown(event) {
    if (event.key === 'ArrowLeft') {
        // Move square left
        square.x -= 10; // Adjust speed as needed
    } else if (event.key === 'ArrowRight') {
        // Move square right
        square.x += 10; // Adjust speed as needed
    }
}
            // Center the square in the viewport
            square.x = canvas.width / 2 - square.size / 2;
            square.y = canvas.height / 2 - square.size / 2;

            draw();
        }

        function draw() {
    context.clearRect(0, 0, canvas.width, canvas.height);

    context.drawImage(squareImage, square.x, square.y, square.size, square.size);

    obstacles.forEach(obstacle => {
        obstacles.forEach(obstacle => {
   // Draw left part of obstacle with repeated brick texture
let leftPartWidth = obstacle.holeX;
while (leftPartWidth > 0) {
    let widthToDraw = Math.min(leftPartWidth, obstacleImage.width);
    context.drawImage(
        obstacleImage,
        0,
        0,
        widthToDraw,
        50,
        obstacle.holeX - leftPartWidth,
        obstacle.y,
        widthToDraw,
        50
    );
    leftPartWidth -= widthToDraw; // Adjust leftPartWidth by widthToDraw
}

// Draw right part of obstacle with repeated brick texture
let rightPartWidth = canvas.width - (obstacle.holeX + obstacle.holeWidth);
let rightX = obstacle.holeX + obstacle.holeWidth;
while (rightPartWidth > 0) {
    let widthToDraw = Math.min(rightPartWidth, obstacleImage.width);
    context.drawImage(
        obstacleImage,
        0,
        0,
        widthToDraw,
        50,
        rightX,
        obstacle.y,
        widthToDraw,
        50,
    );
    rightX += widthToDraw; // Adjust rightX by widthToDraw
    rightPartWidth -= widthToDraw;
}
});
    });

    if (gameOver) {
        context.fillStyle = 'white';
        context.font = '20px Arial';
        context.fillText(`Score: ${score}`, 10, 30);
        const currentDifficulty = getCurrentDifficulty();
        context.fillText(`High Score (${currentDifficulty}): ${highScores[currentDifficulty]}`, 10, 60);
    }
}

        function update() {
    if (gameStarted) {
        if (touchX !== null) {
            // Move square based on touch (only X-axis)
            square.x = touchX - square.size / 2; 

            // Ensure square stays within bounds of canvas horizontally
            square.x = Math.max(0, Math.min(canvas.width - square.size, square.x));
          document.getElementById('GameMusic').play();
        }

        // Update obstacle positions
        obstacles.forEach(obstacle => {
            obstacle.y -= obstacleSpeed;

            // Check if obstacle has passed the square
            if (obstacle.y + obstacle.height < square.y && !obstacle.passed) {
                obstacle.passed = true;
                score++; // Increment score

                // Update high score if current score is higher
                const currentDifficulty = getCurrentDifficulty();
                if (score > highScores[currentDifficulty]) {
                    highScores[currentDifficulty] = score;
                    localStorage.setItem('highScores', JSON.stringify(highScores));
                }
            }
        });

        // Remove obstacles that are off-screen
        obstacles = obstacles.filter(obstacle => obstacle.y + obstacle.height > 0);

        // Check for collisions
        obstacles.forEach(obstacle => {
            if (
                (square.x < obstacle.holeX &&
                    square.x + square.size > 0 &&
                    square.y < obstacle.y + obstacle.height &&
                    square.y + square.size > obstacle.y) ||
                (square.x < canvas.width &&
                    square.x + square.size > obstacle.holeX + obstacle.holeWidth &&
                    square.y < obstacle.y + obstacle.height &&
                    square.y + square.size > obstacle.y)
            ) {
                // Collision detected, stop the game
                gameOver = true;
              document.getElementById('GameOver').play();
            }
        });

        // Create new obstacles based on distance
        if (obstacles.length === 0 || obstacles[obstacles.length - 1].y <= canvas.height - obstacleDistance) {
            obstacles.push(createObstacle());
        }
    }

    if (gameOver) {
        stopGame();
          GameMusic.pause();  // Pause the audio
    GameMusic.currentTime = 0;  // Reset audio to the beginning
    } else {
        draw();
        requestAnimationFrame(update);
    }
}

        function stopGame() {
            canvas.style.display = 'none'; // Hide the canvas
            document.getElementById('gameOverScreen').style.display = 'block';
            document.getElementById('scoreText').textContent = `Score: ${score}`; // Display score
            const currentDifficulty = getCurrentDifficulty();
            document.getElementById('highScoreText').textContent = `High Score (${currentDifficulty}): ${highScores[currentDifficulty]}`; // Display high score
            score = 0; // Reset score
        }

        function restartGame() {
            gameOver = false;
            canvas.style.display = 'none'; //Hide the canvas
            document.getElementById('gameOverScreen').style.display = 'none';
            resetGame();
            score = 0; // Reset score
            startGame(); // Restart the game
        }

        function backToHome() {
        gameOver = false;
        canvas.style.display = 'none'; // Hide the canvas
document.getElementById('gameOverScreen').style.display = 'none';
        document.querySelector('.difficulty-buttons').style.display = 'flex'; // Show difficulty buttons
        document.querySelector('.start-button').style.display = 'none'; // Hide start button
    }

        function setDifficulty(difficulty) {
            switch (difficulty) {
                case 'very easy':
                    obstacleSpeed = 2.5;
                    obstacleDistance = 300; // Pixels between obstacles
              document.getElementById('VeryEasySound').currentTime = 0;
                    document.getElementById('VeryEasySound').play();
                    break;
                case 'easy':
                    obstacleSpeed = 3;
                    obstacleDistance = 350;
              document.getElementById('EasySound').currentTime = 0;
                    document.getElementById('EasySound').play();
                    break;
                case 'medium':
                    obstacleSpeed = 3.5;
                    obstacleDistance = 300;
              document.getElementById('MediumSound').currentTime = 0;
                    document.getElementById('MediumSound').play();
                    break;
                case 'hard':
                    obstacleSpeed = 4;
                    obstacleDistance = 300;
              document.getElementById('HardSound').currentTime = 0;
                    document.getElementById('HardSound').play();
                    break;
                default:
                    
            }
            document.querySelector('.difficulty-buttons').style.display = 'none'; // Hide difficulty buttons
            document.querySelector('.start-button').style.display = 'block'; // Show start button
        }

        function getCurrentDifficulty() {
            if (obstacleSpeed === 2.5) return 'very_easy';
            if (obstacleSpeed === 3) return 'easy';
            if (obstacleSpeed === 3.5) return 'medium';
            if (obstacleSpeed === 4) return 'hard';
        }

        function createObstacle() {
            const holeWidth = 100; // Width of the hole in the obstacle
            const holeX = Math.floor(Math.random() * (canvas.width - holeWidth));
            return { y: canvas.height, height: obstacleHeight, holeX, holeWidth, passed: false };
        }

        function resetGame() {
            obstacles = [];
            score = 0;
            gameOver = false;
            gameStarted = false;
        }

        function startGame() {
            resetGame();
            canvas.style.display = 'block';
          document.getElementById('JumpStart').play();
            document.getElementById('startButton').style.display = 'none';
            gameStarted = true;
            resizeCanvas();
            requestAnimationFrame(update);
        }

        window.addEventListener('resize', resizeCanvas);

        canvas.addEventListener('touchstart', function (event) {
            if (event.touches.length === 1) {
                touchX = event.touches[0].clientX;
            }
        });

        canvas.addEventListener('touchmove', function (event) {
            if (event.touches.length === 1) {
                touchX = event.touches[0].clientX;
            }
        });

        canvas.addEventListener('touchend', function () {
            touchX = null; // Reset touch input when touch ends
        });
function playFullscreen() {
    var audio = document.getElementById('Fullscreen');
    if (audio) {
        audio.currentTime = 0; // Reset audio to the beginning
        audio.play(); // Play the audio
    } else {
        console.log('Audio element not found');
    }
}

        // Function to toggle fullscreen mode
    function toggleFullscreen() {
        if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
                console.error(`Error attempting to enable full-screen mode: ${err.message}`);
            });
        } else {
            document.exitFullscreen();
        }
    }

    // Event listener for changes in fullscreen mode
    document.addEventListener('fullscreenchange', () => {
        const fullscreenButton = document.querySelector('.fullscreen-button');
        if (document.fullscreenElement) {
            fullscreenButton.disabled = true;
            fullscreenButton.style.visibility = 'hidden';
              element.classList.add('Homescreen');

            // Hide fullscreen button on game over screen
            const gameOverFullscreenButton = document.querySelector('.game-over-buttons .fullscreen-button');
            if (gameOverFullscreenButton) {
                gameOverFullscreenButton.disabled = true;
                gameOverFullscreenButton.style.visibility = 'hidden';
            }
        } else {
            fullscreenButton.disabled = false;
            fullscreenButton.style.visibility = 'visible';
                element.classList.add('Homescreen2');
            // Show fullscreen button on game over screen
            const gameOverFullscreenButton = document.querySelector('.game-over-buttons .fullscreen-button');
            if (gameOverFullscreenButton) {
                gameOverFullscreenButton.disabled = false;
                gameOverFullscreenButton.style.visibility = 'visible';
            }
        }
    });

    // Initial setup
    resizeCanvas();
    draw();
function createRandomNumbers() {
    const container = document.getElementById('RandomNumbers');
    container.innerHTML = '';  // Clear previous content

    for (let i = 0; i < 100; i++) {
        const number = Math.floor(Math.random() * 3) + 1; // 1, 2, or 3
        const div = document.createElement('div');
        div.textContent = number;
        div.style.position = 'absolute';
        div.style.left = `${Math.random() * 100}vw`;
        div.style.top = `${Math.random() * 100}vh`;
        div.style.fontSize = `${Math.random() * 30 + 10}px`;  // Random size between 10px and 40px
        div.style.color = `rgb(${Math.random() * 255}, ${Math.random() * 255}, ${Math.random() * 255})`;  // Random color
        div.style.transform = `rotate(${Math.random() * 360}deg)`;  // Random tilt
        div.addEventListener('click', () => handleNumberClick(number));
        container.appendChild(div);
    }

    // Hide all other elements
    const elements = document.body.children;
    for (let i = 0; i < elements.length; i++) {
        if (elements[i].id !== 'HiddenMessage' && elements[i].id !== 'RandomNumbers') {
            elements[i].style.display = 'none';
        }
    }
}

// Sequence handling
let clickCount = { 1: 0, 2: 0, 3: 0 };

function handleNumberClick(number) {
    if (number === 1 && clickCount[2] === 0 && clickCount[3] === 0) {
        clickCount[1]++;
    } else if (number === 2 && clickCount[1] > 0 && clickCount[3] === 0) {
        clickCount[2]++;
    } else if (number === 3 && clickCount[1] > 0 && clickCount[2] > 0) {
        clickCount[3]++;
    } else {
        clickCount = { 1: 0, 2: 0, 3: 0 };  // Reset if the sequence is wrong
        if (number === 1) {
            clickCount[1]++;
        }
    }

    if (clickCount[1] === 1 && clickCount[2] === 2 && clickCount[3] === 3) {
        document.getElementById('RandomNumbers').style.display = 'none';
        document.getElementById('HiddenMessage').style.display = 'block';
    }
}

// Call createRandomNumbers when HiddenMessage is shown
      // Add event listener for mouse movement
    canvas.addEventListener('mousemove', function (event) {
        // Get the mouse position relative to the canvas
        const rect = canvas.getBoundingClientRect();
        const mouseX = event.clientX - rect.left;
        
        // Move the square to the mouse's X position
        square.x = mouseX - square.size / 2;
        
        // Ensure square stays within bounds of canvas horizontally
        square.x = Math.max(0, Math.min(canvas.width - square.size, square.x));
    });
    
    // Function to handle key down events
    function handleKeyDown(event) {
        if (event.key === 'ArrowLeft') {
            // Move square left
            square.x -= 10; // Adjust speed as needed
        } else if (event.key === 'ArrowRight') {
            // Move square right
            square.x += 10; // Adjust speed as needed
        }
        
        // Ensure square stays within bounds of canvas horizontally
        square.x = Math.max(0, Math.min(canvas.width - square.size, square.x));
    }

    // Add event listener for key down events
    window.addEventListener('keydown', handleKeyDown);
    </script>
</body>
</html>
